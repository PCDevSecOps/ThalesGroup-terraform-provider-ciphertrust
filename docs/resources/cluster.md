---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ciphertrust_cluster Resource - terraform-provider-ciphertrust"
subcategory: ""
description: |-
  A cluster is a group of one or more system nodes that synchronize their data. The nodes should be freshly launched instances of CipherTrust Manager.
  Cluster operations will not use the "address" configured for the provider. It will use the "public_address" of one of the nodes instead. If a "node" block is marked as
  "original" then we will try and use that one. The provider will attempt to use the "username" and "password" values configured at the provider level. But if those do not
  work we will attempt to use the default credentials and then change the password to the "password" value.
---

# ciphertrust_cluster (Resource)

A cluster is a group of one or more system nodes that synchronize their data. The nodes should be freshly launched instances of CipherTrust Manager.
Cluster operations will not use the "address" configured for the provider. It will use the "public_address" of one of the nodes instead. If a "node" block is marked as
"original" then we will try and use that one. The provider will attempt to use the "username" and "password" values configured at the provider level. But if those do not
work we will attempt to use the default credentials and then change the password to the "password" value.

This resource is applicable to CipherTrust Manager only.

## Example Usage

```terraform
# Create cluster from set of AWS EC2 instances
# // https://registry.terraform.io/providers/hashicorp/aws/latest/docs
resource "ciphertrust_cluster" "cluster" {
  dynamic "node" {
    for_each = module.ec2_instance
    content {
      host           = node.value.private_ip
      public_address = node.value.public_ip
    }
  }
}

# Create cluster from fixed instances, specify which node is to be the first member
resource "ciphertrust_cluster" "cluster" {
  node {
    original       = true
    host           = "1.1.1.1"
    public_address = "2.2.2.2"
  }
  node {
    host           = "3.3.3.3"
    public_address = "4.4.4.5"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `node` (Block Set) (see [below for nested schema](#nestedblock--node))

### Read-Only

- `id` (String) "ciphertrust_cluster"
- `node_count` (Number) Number of nodes in the cluster
- `node_id` (String) This CipherTrust manager node ID
- `status_code` (String) short code for cluster status: r == ready
- `status_description` (String) cluster status

<a id="nestedblock--node"></a>
### Nested Schema for `node`

Required:

- `host` (String) The hostname or IP of the node

Optional:

- `original` (Boolean) This node is the same server as the provider is configured to use. It is used as the first node in the cluster. All other nodes will have the same state as this node.
- `port` (Number) The port of the node, typically 5432
- `public_address` (String) The fully qualified domain name (FQDN) or public IP of this node. This attribute is used by CipherTrust Manager connectors to learn how to access this particular node of the cluster remotely.

Read-Only:

- `id` (String) This CipherTrust manager node ID
- `status_code` (String) Status code of the node in the cluster, r == ready
- `status_description` (String) Descriptive status name of the node in the cluster


