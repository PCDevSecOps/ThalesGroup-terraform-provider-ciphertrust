---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ciphertrust_azure_vault Resource - terraform-provider-ciphertrust"
subcategory: ""
description: |-
  
---

# ciphertrust_azure_vault (Resource)

This resource specifies the Azure vault and Azure subscription in which the Azure vault resides.

The [ciphertrust_azure_account_details](https://registry.terraform.io/providers/ThalesGroup/ciphertrust/latest/docs/data-sources/azure_account_details) data-source can be used to specify the subscription_id field.

This resource is dependent on a [ciphertrust_azure_connection](https://registry.terraform.io/providers/ThalesGroup/ciphertrust/latest/docs/resources/azure_connection) resource.

[ciphertrust_azure_key](https://registry.terraform.io/providers/ThalesGroup/ciphertrust/latest/docs/resources/azure_key) resources are dependent on this resource.

## Optional Use of Environment Variables

| Parameter       | Environment Variable |
|-----------------|----------------------|
| subscription_id | ARM_SUBSCRIPTION_ID  |

## Example Usage

```terraform
# This resource requires an ciphertrust_azure_connection resource
resource "ciphertrust_azure_connection" "azure_connection" {
  name = "connection-name"
}

# Create a vault resource without using the ciphertrust_azure_account_details data-source and assign it to the connection
resource "ciphertrust_azure_vault" "azure_vault" {
  azure_connection = ciphertrust_azure_connection.azure_connection.name
  subscription_id  = "subscription-id"
  name             = "azure-vault-name"
}

# Create a vault resource using the ciphertrust_azure_account_details data-source and assign it to the connection
data "ciphertrust_azure_account_details" "subscriptions" {
  azure_connection = ciphertrust_azure_connection.azure_connection.name
  display_name     = "subscription-display-name"
}
resource "ciphertrust_azure_vault" "azure_vault" {
  azure_connection = ciphertrust_azure_connection.azure_connection.name
  subscription_id  = data.ciphertrust_azure_account_details.subscriptions.subscription_id
  name             = "azure-vault-name"
}

# Create an Azure key
resource "ciphertrust_azure_key" "azure_key" {
  name  = "key-name"
  vault = ciphertrust_azure_vault.azure_vault.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `azure_connection` (String) (Updateable) Name or ID of the Azure connection.
- `name` (String) Name of an existing Azure vault.
- `subscription_id` (String) Azure subscription ID.

### Optional

- `managed_hsm` (Boolean) Set to true for Azure Managed HSM vaults

### Read-Only

- `azure_vault_id` (String) Azure ID of the vault.
- `id` (String) CipherTrust vault ID.
